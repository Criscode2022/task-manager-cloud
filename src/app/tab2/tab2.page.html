<ion-header [translucent]="true">
  <ion-toolbar color="light">
    <ion-title> Task Manager </ion-title>
    <div slot="end">
      <ion-button class="invisible" id="delete-alert" color="danger">
        <ion-icon name="trash-outline"></ion-icon>
      </ion-button>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-title class="mt-4">Save your tasks to the cloud</ion-title>

  @if (this.userId === null && this.uploading === true) {
  <ion-spinner name="crescent"></ion-spinner>
  }

  <ion-button (click)="upload()" class="p-4">
    <ion-icon name="save"></ion-icon>
  </ion-button>

  @if (this.userId !== null && this.uploading === false) {

  <ion-title class="mt-4"
    >Your user ID : <strong>{{this.userId}}</strong></ion-title
  >

  <div class="p-8">
    <p>Use this userId to import your tasks on any device</p>
  </div>
  }

  <ion-title class="mt-4">Get your tasks from the cloud</ion-title>

  <ion-button (click)="download()" class="p-4">
    <ion-icon name="cloud-download"></ion-icon>
  </ion-button>

  <ion-alert
    trigger="delete-alert"
    header="Confirmation"
    message="Are you sure that you want to delete all of the tasks? This action cannot be undone"
    [buttons]="alertButtons"
  ></ion-alert>
</ion-content>
