<ion-header [translucent]="true">
  <ion-toolbar color="light">
    <ion-title> Task Manager </ion-title>
    <div slot="end">
      <ion-button class="invisible" id="delete-alert" color="danger">
        <ion-icon name="trash-outline"></ion-icon>
      </ion-button>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <p class="m-4 text-red-600">
    Note: the initial load to save or to import can take around 50 seconds until
    the server is started
  </p>

  <p class="m-4 font-bold">Save your tasks to the cloud</p>

  @if (this.uploading === true) {
  <ion-spinner name="crescent"></ion-spinner>

  }

  <ion-button (click)="upload()" class="p-4">
    <ion-icon name="save"></ion-icon>
  </ion-button>

  @if (this.userId() && this.uploading === false) {

  <ion-title class="mt-4"
    >Your user ID : <strong>{{this.userId()}}</strong></ion-title
  >

  <div class="p-8">
    <p>Use this userId to import your tasks on any device</p>
  </div>
  } @if (this.message() && this.uploading === false) {

  <div class="p-8">
    <p><strong>{{this.message()}}</strong></p>
  </div>
  }

  <p class="m-4 font-bold">Get your tasks from the cloud</p>

  <ion-button id="download-alert" class="p-4">
    <ion-icon name="cloud-download"></ion-icon>
  </ion-button>

  <ion-alert
    trigger="download-alert"
    header="Import tasks"
    message="Important: This will overwrite your current tasks"
    [buttons]="alertButtonsDownload"
    [inputs]="alertInputs"
  ></ion-alert>
</ion-content>
